# 分布式算法导论——泰尔

[toc]

> 本书详细介绍了分布式算法及其理论，结合大量定理、引理、命题等的证明，讨论了<u>点到点消息传递模型</u>上的算法、计算机通信网络中实现的算法，重点是<u>分布式应用的控制算法</u>（如<u>波动算法、广播算法、选举算法、同步系统算法</u>等），还涉及了利用分布式算法实现<u>容错计算、方向侦听和故障检测器</u>等方面的内容。本书条理清晰、深入浅出，适合作为大学本科高年级和研究生的分布式算法课程的教材和参考书，对于具有实践经验的专业人员也大有帮助。



# 第1章	导论：分布式系统

本章简要介绍了研制分布式算法所依据的硬件和软件系统。阐述了研究分布式算法的原因。通过一个分布式系统表明若干台计算机或处理器相互协作完成计算机应用。分布式系统的定义不仅包括广域计算机通信网，还有局域网、多处理器计算机（每一台处理器都有自己
的控制单元）及协同处理系统。

1.1节介绍了各种类型的分布式系统，讨论了使用分布式系统的原因，给出了现有分布式系统的例子。然而，本书的主题既不是这些系统的构成，也不是如何使用它们，而是它们的工作原理。同时，对分布式系统中所使用的算法做专门研究。

当然，仅研究分布式系统的算法是不能完全理解它的整体结构和操作的。为了充分理解这一系统，还必须研究硬件及软件的整个体系结构，即把功能划分成模块。同时还需要研究与程序设计语言性质有关的重要问题，而程序设计语言可用于构建分布式系统中的软件,1.2节将会讨论这些主题。

现有的一些关于分布式系统方面的优秀著作，比如，Tanenbaum[Tan96]、S loman and Kramer[SK87]、Bal[Bal90]、Coul our is and Doll i more[CD88]or Go sc in ski[Gos91] 侧重于系统的体系结构和语言方面。正如已经提到的那样，本书主要讨论分布式系统的算法。1.3节解释了分布式算法设计与集中式算法设计的差异。概略地描述了分布式算法的研究领域，并概括了本书的其余部分。



## 1.1 分布式系统的定义

本章中的“分布式系统”表示自主计算机、进程或者处理器互连的集合。计算机、进程或者处理器称为分布式系统中的节点（node）（在后续章节中，将使用更具技术性的表示方法，参见定义2.6)。“自主性”是指节点必须至少配备自己专用的控制单元。因此，单指令多数据（SIMD）模型的并行计算机并不是分布式系统。“互连性”是指节点之间必须能够交换信息。

由于（软件）进程能够起着系统中节点的作用，因此这个定义包括了作为通信进程集合而构造的软件系统，即使是运行在单一硬件装置上。然而，在大多数情况下，一个分布式系统至少包含几个处理器，这些处理器通过通信硬件互连。

在文献中可以看到对分布式系统更严格的定义。例如，Tanenbaum[Tan96]认为，仅当系统中自主性节点的存在对用户是透明的时候，一个系统才称为分布式系统。从这种意义上讲， 分布式系统就像是一个虚拟的、单一的计算机系统，但要实现这种透明性，需要开发复杂的分布式控制算法。



### 1.1.1 动机

分布式计算机系统比顺序系统更可取，或者说，它们的使用是必然的。我们将对其原因进行分析，下面的分析只是部分原因。分布式系统的选择受到下列诸多因素的影响，有时可能源于其他原因，但其优势随之显现。分布式系统的特征可能会随着其存在的形式不同而不同。

1.1.2节1.1.6节将会更详细地讨论这些问题。

（1）信息交换在60年代，当多数大学和公司开始拥有自己的大型机时，产生了在不同计算机间进行数据交换的需求。不同机构的人员通过这些机构的计算机交换数据，使合作变得更为便利。从而引发了对所谓的广域网（wide-area network，WAN）的开发。当今因特网的前身ARPANET于1969年12月投入使用。广域网（有时称远程网络，long-haul network）中所连接的计算机通常都配有用户所需的各种设备，如备份存储器、磁盘、各种应用程序及打印机等。
后来，计算机体积变得越来越小，价格越来越便宜，很快，每一个机构都有了许多计算机，现在，常常是人手一台计算机（个人计算机或工作站）。因此，机构人员间的信息（电子） 交换要求自主性计算机互连。甚至有的个人或家庭将多台计算机连接成一小型个人家庭网络也是很常见的。

（2）资源共享尽管由于计算机的价格便宜，机构可为每一位员工提供一台个人计算机， 但对于外围设备（如打印机、存储设备和磁盘等）情况却并非如此。在较小规模内，每台计算机可以依靠专用服务器提供编译器和其他应用程序。此外，在所有计算机上进行应用程序和相关文件资源的复制，则效率低下；除了浪费磁盘空间，还会引起不必要的维护问题。因此，用户计算机要依靠专用节点进行打印输出和磁盘服务。在一个组织内部连接而成的计算机网络称为局域网(local-area network，LAN)。

对于机构而言，建立小型计算机组成的网络，而不是购买大型机，不仅是为了降低系统成本，而且是使系统具有可扩充性。首先，较之大型计算机，小型计算机系统有更好的性能价格比；虽然典型的大型机要比个人计算机快50倍，但其价格却是个人计算机的500倍之多。其次，如果一个小型计算机系统的容量不足，可根据机构需要在网络中增加机器（文件服务器、打印机和工作站）。而如果单机系统的容量不够，则只能更换。

(3）通过复制提高可靠性，分布式系统较之单机系统更具可靠性。这是因为它们有局部然降(par il fi lure)的性质。这表明，如果系统中的某些节点发生故障，其他节点仍可正常运行并且能够接管故障的部分。而单机系统的散障则会影响整个系统。在这种情况下，系统不可能继续运行。因此，在设计高可靠性计算机系统时，分布式体系结构常常更受到关注。

可靠性系统一般有多个处理器，是运行一个应用程序的单处理器的二至四倍用程序并利用表决机制决定机器的输出。因此、当系统的某个部件发生故障时，要使分布式系统正常运行，需要相当复杂的算法支持。

（4）通过并行化提高性能高性能由于分布式系统中存在多处理器，人们可以把计算密集的作业进行划分，并分布到若干台处理器上分别处理，来减少作业的处理时间。并行计算机的工作原理就是如此，但通过将任务分配到其他工作站上进行并行处理，局域网的用户也可受益。

(5)通过规范高化设计。计算机系统设计相当复杂，尤其是有相当多的功能要求时。将系统分成模块，可简化系统设计，每一模块实现部分功能、并可与其他模块通信。

通过定义抽象数据类型和不同任务过程，可以得到独立的程序模块。也可将一个大的系统定义为协同进程的集合。在这两种情况下，模块都可以在单一计算机上执行。但在一个局域网中可能会有不同类型的计算机，如，有一台配备专门进行密集数值计算（number crunching）的硬件的计算机，有一台带有制图硬件的计算机，还有一台配备了磁盘等设备。


### 1.1.2 计算机网络

计算机网络是由通信设备把多个计算机互连而成的计算机集合，通过这些设备实现信息交换。交换是通过接收和发送信息实现的。计算机网络与分布式系统的定义不谋而合。根据计算机之间的距离，计算机网络可分为广域网和局域网。

广域网通常连接不同机构（各行业、大学之间等）的计算机。节点间的物理距离不少于 10公里。网络中的每一节点是一台完整的计算机，包括所有的外围设备和相当数量的应用程序。广域网的主要目标是实现不同节点间用户的信息交换。

局域网通常是连接某一机构内部的计算机。节点间的物理距离不大于10公里。网络中的节点可以是工作站、文件服务器或者打印服务器，即机构内部的用于特定功能的相对较小的专用工作站。局域网的主要目标是实现信息交换和资源共享。

这两种类型的网络的界限并不总能清晰界定。从算法观点来看，这种区分不是很重要。因为所有计算机网络中的算法类似。以下列出与算法开发有关的因素。

（1）**可套性参数**	在广域网中，不能忽视消息传递过程中发生错误的可能性。通常，广域网的分布式算法就设计成要处理这种可能性。局域网就可靠得多。在算法设计时，通常假设通信是完全可靠的。然而，在这种情况下，出错的不可能事件可能会难以察觉地发生，并导致系统操作错误。

(2）**通信时间**	广域网中的消息传输时间要比局域网中的消息传输时间大若干数量级。在广域网中，较之消息的传输时间，消息的处理时间几乎可以忽略。

(3）**同一性**	即使在局域网中，所有的节点也未必相同。通常在二个机构内部，可能会贫同采用共同的软件和协议。在广域网中，有多种协议，这就使得在不同协议间转换和设计出能兼容不同标准的软件变得相当困难。

(4）**互信**	同一机构内部，所有用户都互相信任。但在广域网中，决不是这种情况。在广域网中需要开发安全算法，防范其他节点非法用户的入侵。



### 1.1.3 广域网络

### 1.1.4 局域网

### 1.1.5 多处理器计算机

### 1.1.6 协同操作进程

## 1.2 体系结构和语言

### 1.2.1 结构

### 1.2.2 OSI参考模型

### 1.2.3 局域网OSI模型：IEEE标准

### 1.2.4 语言支持

## 1.3 分布式算法

### 1.3.1 分布式算法与集中式算法

### 1.3.2 一个例子：单消息通信

### 1.3.3 研究领域

## 1.4 本书概要



# 第一部分：协议

# 第2章 模型

## 2.1 转移系统和算法

### 2.1.1 转移系统

### 2.1.2 异步消息传递系统

### 2.1.3 同步消息传递系统

### 2.1.4 公平性

## 2.2 转移系统性质的证明

### 2.2.1 安全性

### 2.2.2 活动性

## 2.3 时间的因果序和逻辑时钟

### 2.3.1 事件的独立性和相关性

### 2.3.2 执行的等价性：计算

### 2.3.3 逻辑时钟

## 2.4 附加假设，复杂度

### 2.4.1 网络拓扑结构

### 2.4.2 信道性质

### 2.4.3 实时性假设

### 2.4.4 进程知识

### 2.4.5 分布式算法的复杂度

## 习题



# 第3章	通信协议

## 3.1 平衡滑动窗口协议

### 3.1.1 协议表示

### 3.1.2 协议的正确性证明

### 3.1.3 协议讨论

##  3.2 基于计时器的协议

### 3.2.1 协议表示

### 3.2.2 协议的正确性证明

### 3.2.3 协议讨论

## 习题



# 第4章	路由算法

## 4.1 基于目的节点的路由

## 4.2 所有点对之间的最短路径问题

### 4.2.1 Floyd-Warshall 算法

### 4.2.2 Toueg 最短路径算法

### 4.2.3 讨论以及更多算法

## 4.3 变更算法

### 4.3.1 算法描述

### 4.3.2 变更算法的正确性

### 4.3.3 算法讨论

## 4.4 带有压缩路由表的路由

### 4.3.1 树标号模式

### 4.3.2 区间路由

### 4.3.3 前缀路由

## 4.5 分级路由

## 习题



# 第5章	无死锁的包交换



